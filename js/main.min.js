!function(){const e=document.querySelector(".header");window.addEventListener("scroll",function(){window.pageYOffset>84?e.classList.add("header__active"):e.classList.remove("header__active")})}(),function(){const e=document.querySelector(".header"),t=document.querySelector(".burger__js"),o=document.querySelector(".header__nav"),n=document.querySelector(".header__nav__close"),r=document.querySelectorAll(".nav__link");let c;function i(){o.classList.remove("header__nav__active"),e.removeChild(c),e.classList.add("header__active"),o.addEventListener("transitionend",showScrollafterBurger),r.forEach(e=>{e.removeEventListener("click",i)})}t.addEventListener("click",function(){e.classList.remove("header__active"),(c=document.createElement("div")).classList.add("header__nav__blur"),e.appendChild(c),o.classList.add("header__nav__active"),hideScroll(),r.forEach(e=>{e.addEventListener("click",i)})}),n.addEventListener("click",function(){o.classList.remove("header__nav__active"),window.pageYOffset>84&&e.classList.add("header__active"),e.removeChild(c),o.addEventListener("transitionend",showScrollafterBurger)})}(),document.querySelectorAll(".js-scroll").forEach(e=>{e.addEventListener("click",function(){!function(e,t){let o=document.querySelector(e).getBoundingClientRect().top,n=window.pageYOffset,r=null;const c=function(e){null===r&&(r=e);const i=e-r,l=(d=i,s=n,a=o,(d/=t/2)<1?a/2*d*d+s:-a/2*(--d*(d-2)-1)+s);var d,s,a;window.scrollTo(0,l),i<t&&requestAnimationFrame(c)};requestAnimationFrame(c)}(this.getAttribute("href"),1e3)})}),function(){window.addEventListener("scroll",function(){const e=document.querySelectorAll(".circle"),t=document.querySelector(".main-page").scrollHeight,o=document.querySelector(".creative-page").scrollHeight,n=document.querySelector(".cards-page").scrollHeight,r=document.querySelector(".portfolio").scrollHeight,c=document.querySelector(".info").scrollHeight;console.log(t,o,n,r,c),window.pageYOffset<t/2||0===window.pageYOffset?e[0].style.opacity="100%":e[0].style.opacity="20%",window.pageYOffset>=t/2&&window.pageYOffset<t+o/2?e[1].style.opacity="100%":e[1].style.opacity="20%",window.pageYOffset>=t+o/2&&window.pageYOffset<t+o+n/2?e[2].style.opacity="100%":e[2].style.opacity="20%",window.pageYOffset>=t+o+n/2&&window.pageYOffset<t+o+n+r/2?e[3].style.opacity="100%":e[3].style.opacity="20%",window.pageYOffset>=t+o+n+r/2&&window.pageYOffset<t+o+n+r+c/2?e[4].style.opacity="100%":e[4].style.opacity="20%",window.pageYOffset>=t+o+n+r+c/2?e[5].style.opacity="100%":e[5].style.opacity="20%"})}(),function(){function e(){if(window.innerWidth<=800&&document.querySelector(".main__section-left")){!function(e){for(var t=document.createDocumentFragment();e.firstChild;){var o=e.removeChild(e.firstChild);t.appendChild(o)}e.parentNode.replaceChild(t,e)}(document.querySelector(".main__section-left"))}else if(window.innerWidth>800&&4===document.querySelector(".main__section-1").children.length){!function(e){var t=document.createDocumentFragment().appendChild(document.createElement("div"));for(t.classList.add("main__section-left");e.children.length>1;){var o=e.removeChild(e.firstChild);t.appendChild(o)}e.prepend(t)}(document.querySelector(".main__section-1"))}}window.addEventListener("resize",e),document.addEventListener("DOMContentLoaded",e)}(),function(){const e=document.querySelector(".main__title"),t=document.querySelectorAll(".main__animation");function o(e){e.style.opacity="0"}function n(e){return new Promise(t=>setTimeout(t,e))}e.addEventListener("mouseover",async function(){for(let e=0;e<=t.length-1;e++)t[e].style.opacity="1",await n(1e3);for(let e=0;e<=t.length-1;e++)o(t[e])})}(),function(){const e=document.querySelectorAll(".button__js");function t(e){const t=e.target.getBoundingClientRect();!function(e,t,o){const n=o.target,r=document.createElement("div");r.classList.add("button__circle"),r.style.left=`${e}px`,r.style.top=`${t}px`,n.appendChild(r),setTimeout(()=>r.remove(),1e3)}(e.clientX-t.left,e.clientY-t.top,e)}for(i=0;i<=e.length-1;i++)e[i].addEventListener("mousedown",t)}(),function(){document.querySelectorAll(".portfolio__photo").forEach(function(e,t,o){e.addEventListener("click",()=>(function(e){const t=document.querySelector(".portfolio__slider"),o=document.querySelector(".slider__nav__close");let n=document.querySelectorAll(".slides .slide"),r=e,c=setInterval(i,4e3);function i(){l(r+1)}function l(e){n[r].classList.remove("showing"),r=(e+n.length)%n.length,n[r].classList.add("showing")}hideScroll(),t.classList.add("portfolio__slider--active"),n[r].classList.add("showing"),o.addEventListener("click",e=>{clearInterval(c),n[r].classList.remove("showing"),t.classList.remove("portfolio__slider--active"),s.innerHTML="Пауза",t.addEventListener("transitionend",showScrollafterPortfolio)});let d=!0,s=document.getElementById("controls");function a(){s.innerHTML="Слайдшоу",d=!1,clearInterval(c)}s.onclick=function(){d?a():(s.innerHTML="Пауза",d=!0,c=setInterval(i,4e3))};let u=document.getElementById("next"),m=document.getElementById("previous");u.onclick=function(){a(),i()},m.onclick=function(){a(),l(r-1)}})(t))})}(),function(){function e(){const e=document.querySelector(".cards__view-window").clientWidth,t=document.querySelector(".cards__wrapper");let o;window.innerWidth>900?o=.3*e:window.innerWidth<=900&&window.innerWidth>600?o=.475*e:window.innerWidth<=600&&(o=e),t.style.gridTemplateColumns=`repeat(4, ${o}px)`}e(),window.addEventListener("resize",e)}(),function(){let e,t,o,n,r,c,i,l,d,s,a,u=0;function m(){o=document.querySelector(".cards__view-window"),n=document.querySelector(".cards__wrapper");const e=document.querySelector(".cards__view-window .cards__arrow-right"),c=document.querySelector(".cards__view-window .cards__arrow-left");r=document.querySelector(".cards__bar__scroll"),t=0,u=0,r.style.transform=`translateY(-50%) translateX(${u}%)`,h(),c.addEventListener("click",f),e.addEventListener("click",_)}function f(){e=(n.scrollWidth-.05*o.clientWidth*3)/4+.05*o.clientWidth,0!=Math.round(t)&&(t+=e,h(),r.style.transform=`translateY(-50%) translateX(${u-=100}%)`,console.log(Math.round(t),-(n.scrollWidth-o.clientWidth)))}function _(){e=(n.scrollWidth-.05*o.clientWidth*3)/4+.05*o.clientWidth,Math.round(t)>-(n.scrollWidth-o.clientWidth)&&(t-=e,h(),r.style.transform=`translateY(-50%) translateX(${u+=100}%)`,console.log(Math.round(t),-(n.scrollWidth-o.clientWidth)))}function h(){n.style.transform=`translateX(${t}px)`}function y(e){c=e.touches[0].clientX,l=e.touches[0].clientY}function v(e){i=e.touches[0].clientX,d=e.touches[0].clientY,s=c-i,a=l-d,console.log(s,a)}function g(e){s>0&&s>Math.abs(a)?_():s<0&&Math.abs(s)>Math.abs(a)&&f()}document.querySelectorAll(".cards__item").forEach(function(e,t,o){e.addEventListener("touchstart",y),e.addEventListener("touchmove",v),e.addEventListener("touchend",g)}),m(),window.addEventListener("resize",m)}(),function(){let e=/[a-zA-Zа-яёА-ЯЁ ]/,t=/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/;function o(o){let n,r,c,i,l,d,s;o.target.closest(".footer__form")?(s=!0,n=document.querySelector("#user-name"),r=document.querySelector("#user-phone"),c=document.querySelector("#user-comment"),i=document.querySelector(".input__wrap-1"),l=document.querySelector(".input__wrap-2"),d=document.querySelector(".footer__form .form__fill"),console.log("bottom")):(s=!1,n=document.querySelector("#user-name-0"),r=document.querySelector("#user-phone-0"),c=document.querySelector("#user-comment-0"),i=document.querySelector(".input__wrap-10"),l=document.querySelector(".input__wrap-20"),d=document.querySelector(".form__dialog .form__fill"),console.log("top"));const a=n.value,u=r.value;c.value;o.preventDefault(),console.log(a,u),async function(e,t){console.log(e,t),e&&t?(d.classList.add("sending"),console.log("Данные отправляются"),await new Promise(e=>setTimeout(e,2e3)),d.classList.remove("sending"),d.reset(),!1===s&&(document.querySelector(".form__dialog").classList.remove("form__dialog--active"),document.querySelector(".form__wrap").classList.remove("form__wrap--active"),document.querySelector(".form__dialog").addEventListener("transitionend",showScrollafterModal)),n.style.backgroundColor="rgba(227, 216, 11, 0.4)",r.style.backgroundColor="rgba(227, 216, 11, 0.4)"):console.log("Что-то не верно")}(function(e,t){return e.test(t)?(i.classList.remove("form__field__name-valid"),!0):(n.style.backgroundColor="rgba(236, 53, 53, 0.4)",i.classList.add("form__field__name-valid"),!1)}(e,a),function(e,t){return e.test(t)?(l.classList.remove("form__field__phone-valid"),!0):(r.style.backgroundColor="rgba(236, 53, 53, 0.4)",l.classList.add("form__field__phone-valid"),!1)}(t,u))}document.querySelectorAll(".form__button").forEach(function(e,t,n){e.addEventListener("click",o)})}(),function(){const e="form__wrap",t="form__wrap--active",o="form__dialog",n="form__dialog--active",r="button__modal__js",c="form__close";document.addEventListener("click",i=>{const l=document.querySelector(`.${e}`),d=document.querySelector(`.${o}`);i.target.closest(`.${r}`)&&(hideScroll(),l.classList.add(t),d.classList.add(n)),(i.target.closest(`.${c}`)||i.target.classList.contains(t))&&(d.classList.remove(n),l.classList.remove(t),d.addEventListener("transitionend",showScrollafterModal))})}();const circles=document.querySelector(".scroll"),header=document.querySelector(".header");function hideScroll(){const e=window.innerWidth-document.documentElement.clientWidth;header.style.paddingRight=`${e}px`,document.body.style.paddingRight=`${e}px`,circles.style.paddingRight=`${e}px`,document.body.style.overflowY="hidden",document.body.addEventListener("touchmove",hideforIOS,{passive:!1})}function hideforIOS(e){e.preventDefault()}function showScrollafterModal(e){header.style.paddingRight="",document.body.style.paddingRight="",circles.style.paddingRight="",document.body.style.overflowY="visible",document.body.removeEventListener("touchmove",hideforIOS),document.querySelector(".form__dialog").removeEventListener("transitionend",showScrollafterModal)}function showScrollafterPortfolio(e){header.style.paddingRight="",document.body.style.paddingRight="",circles.style.paddingRight="",document.body.style.overflowY="visible",document.body.removeEventListener("touchmove",hideforIOS),document.querySelector(".portfolio__slider").removeEventListener("transitionend",showScrollafterPortfolio)}function showScrollafterBurger(e){header.style.paddingRight="",document.body.style.paddingRight="",circles.style.paddingRight="",document.body.style.overflowY="visible",document.body.removeEventListener("touchmove",hideforIOS),document.querySelector(".header__nav").removeEventListener("transitionend",showScrollafterBurger)}
